(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&i(t)}).observe(document,{childList:!0,subtree:!0});function m(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(r){if(r.ep)return;r.ep=!0;const e=m(r);fetch(r.href,e)}})();function V(d,o){let m=d.getContext("2d");m&&(m.fillStyle=o,m.fillRect(0,0,d.width,d.height))}function Q(d,o){var m=d.toDataURL("image/png",1),i=document.createElement("a");return i.href=m,i.download=o,i}const P=(d=255)=>Math.random()*d,F=()=>`rgba(${P()}, ${P()}, ${P()}, ${P(1)})`;function Z(d,o,m){const i=d.width,r=d.height,e=d.getContext("2d");if(e&&o){if(o.fftSize=2048,o.minDecibels=-90,o.maxDecibels=-10,o.smoothingTimeConstant=.85,m==="sinewave"){o.fftSize=2048;const t=o.fftSize,n=new Uint8Array(t);(()=>{o.getByteTimeDomainData(n),e.fillStyle=F(),e.lineWidth=2,e.strokeStyle=F(),e.beginPath();const w=i*1/t;let p=0;for(let h=0;h<t;h++){const g=n[h]/128*r/2;h===0?e.moveTo(p,g):e.lineTo(p,g),p+=w}e.lineTo(i,r/2),e.stroke()})()}else if(m=="frequencybars"){o.fftSize=256;const t=o.frequencyBinCount,n=new Uint8Array(t);(()=>{o.getByteFrequencyData(n),e.fillStyle="rgba(0, 0, 0, 0)";const w=i/t*2.5;let p=0;for(let h=0;h<t;h++){const f=n[h]*7;e.fillStyle="rgba("+(f+20)+",40,50, 0.5)",e.fillRect(p,r-f/2,w,f/2),p+=w+1}})()}}}function U(d,o,m){let i=d.getContext("2d");const r=o?window.innerWidth/m.width:m.width/window.innerWidth,e=o?window.innerHeight/m.height:m.height/window.innerHeight;i==null||i.scale(r,e),i==null||i.setTransform(1,0,0,1,0,0)}function W(d,o,m){!document.fullscreenElement&&d&&o?o.requestFullscreen().then(i=>{U(d,!0,m)}).catch(i=>{console.error(`Error attempting to enable fullscreen mode: ${i.message} (${i.name})`)}):(U(d,!1,m),document.exitFullscreen())}var ee={exports:{}};(function(d,o){(function(m,i,r,e,t){if("customElements"in r)t();else{if(r.AWAITING_WEB_COMPONENTS_POLYFILL)return void r.AWAITING_WEB_COMPONENTS_POLYFILL.then(t);var n=r.AWAITING_WEB_COMPONENTS_POLYFILL=p();n.then(t);var u=r.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",w=r.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in r?h(u).then(function(){n.isDone=!0,n.exec()}):h(w).then(function(){h(u).then(function(){n.isDone=!0,n.exec()})})}function p(){var f=[];return f.isDone=!1,f.exec=function(){f.splice(0).forEach(function(g){g()})},f.then=function(g){return f.isDone?g():f.push(g),f},f}function h(f){var g=p(),v=e.createElement("script");return v.type="text/javascript",v.readyState?v.onreadystatechange=function(){v.readyState!="loaded"&&v.readyState!="complete"||(v.onreadystatechange=null,g.isDone=!0,g.exec())}:v.onload=function(){g.isDone=!0,g.exec()},v.src=f,e.getElementsByTagName("head")[0].appendChild(v),v.then=g.then,v}})(0,0,window,document,function(){var m;m=function(){return function(i){var r={};function e(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return i[t].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=i,e.c=r,e.d=function(t,n,u){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:u})},e.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n||4&n&&typeof t=="object"&&t&&t.__esModule)return t;var u=Object.create(null);if(e.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),2&n&&typeof t!="string")for(var w in t)e.d(u,w,(function(p){return t[p]}).bind(null,w));return u},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(i,r){i.exports=function(e){var t=[];return t.toString=function(){return this.map(function(n){var u=function(w,p){var h,f=w[1]||"",g=w[3];if(!g)return f;if(p&&typeof btoa=="function"){var v=(h=g,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),X=g.sources.map(function(M){return"/*# sourceURL="+g.sourceRoot+M+" */"});return[f].concat(X).concat([v]).join(`
`)}return[f].join(`
`)}(n,e);return n[2]?"@media "+n[2]+"{"+u+"}":u}).join("")},t.i=function(n,u){typeof n=="string"&&(n=[[null,n,""]]);for(var w={},p=0;p<this.length;p++){var h=this[p][0];typeof h=="number"&&(w[h]=!0)}for(p=0;p<n.length;p++){var f=n[p];typeof f[0]=="number"&&w[f[0]]||(u&&!f[2]?f[2]=u:u&&(f[2]="("+f[2]+") and ("+u+")"),t.push(f))}},t}},function(i,r,e){var t=e(3);i.exports=typeof t=="string"?t:t.toString()},function(i,r,e){var t=e(4);i.exports=typeof t=="string"?t:t.toString()},function(i,r,e){(i.exports=e(0)(!1)).push([i.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(i,r,e){(i.exports=e(0)(!1)).push([i.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(i,r,e){e.r(r),e.d(r,"BoxIconElement",function(){return Y});var t,n,u,w,p=e(1),h=e.n(p),f=e(2),g=e.n(f),v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},X=function(){function b(y,s){for(var c=0;c<s.length;c++){var a=s[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(y,a.key,a)}}return function(y,s,c){return s&&b(y.prototype,s),c&&b(y,c),y}}(),M=(n=(t=Object).getPrototypeOf||function(b){return b.__proto__},u=t.setPrototypeOf||function(b,y){return b.__proto__=y,b},w=(typeof Reflect>"u"?"undefined":v(Reflect))==="object"?Reflect.construct:function(b,y,s){var c,a=[null];return a.push.apply(a,y),c=b.bind.apply(b,a),u(new c,s.prototype)},function(b){var y=n(b);return u(b,u(function(){return w(y,arguments,n(this).constructor)},y))}),N=window,D={},A=document.createElement("template"),H=function(){return!!N.ShadyCSS};A.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+h.a+`
`+g.a+`
</style>
<div id="icon"></div>`;var Y=M(function(b){function y(){(function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")})(this,y);var s=function(c,a){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?c:a}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return s.$ui=s.attachShadow({mode:"open"}),s.$ui.appendChild(s.ownerDocument.importNode(A.content,!0)),H()&&N.ShadyCSS.styleElement(s),s._state={$iconHolder:s.$ui.getElementById("icon"),type:s.getAttribute("type")},s}return function(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(s,c):s.__proto__=c)}(y,HTMLElement),X(y,null,[{key:"getIconSvg",value:function(s,c){var a=this.cdnUrl+"/regular/bx-"+s+".svg";return c==="solid"?a=this.cdnUrl+"/solid/bxs-"+s+".svg":c==="logo"&&(a=this.cdnUrl+"/logos/bxl-"+s+".svg"),a&&D[a]||(D[a]=new Promise(function(E,S){var L=new XMLHttpRequest;L.addEventListener("load",function(){this.status<200||this.status>=300?S(new Error(this.status+" "+this.responseText)):E(this.responseText)}),L.onerror=S,L.onabort=S,L.open("GET",a),L.send()})),D[a]}},{key:"define",value:function(s){s=s||this.tagName,H()&&N.ShadyCSS.prepareTemplate(A,s),customElements.define(s,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),X(y,[{key:"attributeChangedCallback",value:function(s,c,a){var E=this._state.$iconHolder;switch(s){case"type":(function(S,L,x){var l=S._state;l.$iconHolder.textContent="",l.type&&(l.type=null),l.type=!x||x!=="solid"&&x!=="logo"?"regular":x,l.currentName!==void 0&&S.constructor.getIconSvg(l.currentName,l.type).then(function(_){l.type===x&&(l.$iconHolder.innerHTML=_)}).catch(function(_){console.error("Failed to load icon: "+l.currentName+`
`+_)})})(this,0,a);break;case"name":(function(S,L,x){var l=S._state;l.currentName=x,l.$iconHolder.textContent="",x&&l.type!==void 0&&S.constructor.getIconSvg(x,l.type).then(function(_){l.currentName===x&&(l.$iconHolder.innerHTML=_)}).catch(function(_){console.error("Failed to load icon: "+x+`
`+_)})})(this,0,a);break;case"color":E.style.fill=a||"";break;case"size":(function(S,L,x){var l=S._state;l.size&&(l.$iconHolder.style.width=l.$iconHolder.style.height="",l.size=l.sizeType=null),x&&!/^(xs|sm|md|lg)$/.test(l.size)&&(l.size=x.trim(),l.$iconHolder.style.width=l.$iconHolder.style.height=l.size)})(this,0,a);break;case"rotate":c&&E.classList.remove("bx-rotate-"+c),a&&E.classList.add("bx-rotate-"+a);break;case"flip":c&&E.classList.remove("bx-flip-"+c),a&&E.classList.add("bx-flip-"+a);break;case"animation":c&&E.classList.remove("bx-"+c),a&&E.classList.add("bx-"+a)}}},{key:"connectedCallback",value:function(){H()&&N.ShadyCSS.styleElement(this)}}]),y}());r.default=Y,Y.define()}])},d.exports=m()})})(ee);let k=document.querySelector("#wavedraw"),j=k==null?void 0:k.parentNode,$=document.getElementById("download-image"),I=document.getElementById("record"),B=document.getElementById("fullscreen"),C=document.getElementById("visualization-type"),te=[document.getElementById("sinewave"),document.getElementById("frequencybars")],T=document.getElementById("instructions"),z=!1,q;const ne="<box-icon name='microphone' type='solid' color='#ffffff'></box-icon>Start recording! (Spacebar)",re="<box-icon name='microphone' type='solid' color='#ffffff'></box-icon>Stop recording (Spacebar)",G="Click 'Start Recording'/Press spacebar and ensure you permit your browser to access your computer mic.",J={width:1e3,height:500};let K="frequencybars",R,O;if(k){T&&(T.textContent=G),V(k,"rgba(0, 0, 0, 0)"),C==null||C.addEventListener("click",()=>{C&&C.classList.toggle("is-active")}),$==null||$.addEventListener("click",()=>{k&&Q(k,"filename.png").click()}),B==null||B.addEventListener("click",()=>{k&&j&&W(k,j,J)}),te.forEach(o=>{o==null||o.addEventListener("click",m=>{K=o.id})});const d=()=>{z=!z,z?(T&&(T.textContent=""),I&&(I.innerHTML=re),navigator.mediaDevices.getUserMedia({audio:!0}).then(o=>{R=new AudioContext,O=R.createAnalyser(),O.minDecibels=-100,O.maxDecibels=0,O.smoothingTimeConstant=.85,q=R.createMediaStreamSource(o),q.connect(O)}).catch(o=>{console.log(`Error accessing microphone: ${o}`)})):(I&&(I.innerHTML=ne),T&&(T.textContent=G))};I==null||I.addEventListener("click",d),window.addEventListener("keydown",o=>{switch(o.key){case"Shift":k&&j&&W(k,j,J);break;case" ":d();break}}),setInterval(()=>{z&&k&&Z(k,O,K)},20)}
